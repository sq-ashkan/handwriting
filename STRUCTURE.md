# پروژه تشخیص کاراکتر دست‌نویس (OCR)

## هدف اصلی
ساخت سیستمی که بتواند کاراکتر (حرف یا عدد) دست‌نویس که کاربر روی کاغذ می‌نویسد را آپلود و با دقت بالای ۹۹ درصد برای نمایش به سرمایه‌گذار در حالت دمو و تست کاربر واقعی تشخیص دهد.

## وضعیت فعلی دیتاست‌ها
دیتاست‌های IAM، chars74k, EMNIST، MNIST و A-Z Handwritten با موفقیت دانلود و در ساختار یکسان ذخیره شده‌اند:
- هر چهار دیتاست در پوشه‌های مجزا با ساختار مشابه
- فرمت مستندات کاملاً یکسان (documentation.txt) با ساختار IAM
- آماده برای ادغام و یکپارچه‌سازی
- فرمت مستندات:
  ```
  image_id ok graylevel components x y w h tag transcription
  ```

## ساختار به‌روز شده پروژه
```
handwriting/
├── src/                     # کدهای اصلی پروژه
│   ├── services/           # سرویس‌های اصلی
│   │   ├── downloaders/    # دانلودرهای دیتاست
│   │   │   ├── __init__.py
│   │   │   ├── iam.py      # دانلودر IAM ✓
│   │   │   ├── emnist.py   # دانلودر EMNIST ✓
│   │   │   ├── mnist.py    # دانلودر MNIST ✓
│   │   │   ├── az.py       # دانلودر A-Z ✓
│   │   │   └── chars74k.py # دانلودر Chars74K ✓
│   │   ├── preprocessor/   # پردازش تصاویر
│   │   └── trainer/       # سیستم آموزش
│   ├── models/            # معماری مدل
│   │   ├── layers.py     # لایه‌های شبکه
│   │   └── network.py    # پیکربندی شبکه
│   └── lib/              # کتابخانه‌های کمکی
│       ├── utils.py      # توابع عمومی
│       ├── cache_manager.py  # مدیریت کش و فایل‌های موقت
│       └── constants.py  # متغیرهای ثابت
├── data/                  # دیتاست‌ها
│   ├── raw/              # داده‌های خام
│   │   ├── iam_handwriting/    # دیتاست IAM ✓
│   │   │   ├── images/         # تصاویر با فرمت یکسان
│   │   │   └── documentation.txt   # فرمت IAM
│   │   ├── emnist/             # دیتاست EMNIST ✓
│   │   │   ├── images/         # تصاویر همسان با IAM
│   │   │   └── documentation.txt   # فرمت مشابه IAM
│   │   ├── mnist/              # دیتاست MNIST ✓
│   │   │   ├── images/         # تصاویر همسان با IAM
│   │   │   └── documentation.txt   # فرمت مشابه IAM
│   │   ├── az_handwritten/    # دیتاست A-Z ✓
│   │   │   ├── images/        # تصاویر همسان با IAM
│   │   │   └── documentation.txt  # فرمت مشابه IAM
│   │   └── chars74k/         # دیتاست Chars74K ✓
│   │       ├── images/       # تصاویر ۲۷x۲۷ پیکسل
│   │       └── documentation.txt  # فرمت IAM
│   ├── processed/           # داده‌های پردازش شده
│   └── logs/               # گزارش‌ها
├── tests/                  # تست‌ها
│   ├── test_downloaders/
│   │   ├── __init__.py
│   │   ├── test_iam.py
│   │   ├── test_emnist.py
│   │   ├── test_mnist.py
│   │   ├── test_az.py
│   │   └── test_chars74k.py
│   ├── test_preprocessor/
│   └── test_trainer/
└── requirements.txt        # وابستگی‌ها
```

## فازهای پروژه

### فاز ۱: جمع‌آوری و مدیریت داده ✓
- دانلود و پردازش دیتاست‌های:
  - IAM Handwriting: حروف و کلمات دست‌نویس ✓
  - EMNIST: اعداد و حروف انگلیسی ✓
  - MNIST: اعداد دست‌نویس ✓
  - A-Z Handwritten Alphabets ✓
  - Chars74K ✓
- مدیریت کش و فایل‌های موقت ✓
- سیستم لاگینگ و نمایش پیشرفت ✓

### فاز ۲: مدل‌سازی و آموزش
- طراحی شبکه عصبی عمیق مناسب برای تشخیص کاراکتر
- پیاده‌سازی مکانیزم آموزش
- تنظیم هایپرپارامترها
- آموزش با دیتاست ترکیبی
- ذخیره مدل نهایی

### فاز ۳: تست و ارزیابی
- تست با داده‌های واقعی خارج از دیتاست
- ارزیابی دقت و عملکرد
- بهینه‌سازی و رفع خطاها
- مستندسازی نتایج

### فاز ۴: رابط کاربری
- پیاده‌سازی API با Flask
- ساخت رابط آپلود تصویر
- پردازش تصویر ورودی
- نمایش نتیجه تشخیص

## نیازمندی‌های به‌روز شده
- Python 3.10+
- PyTorch >= 2.0
- OpenCV-Python >= 4.8
- Flask >= 3.0
- NumPy >= 1.24
- Pandas >= 2.1
- tqdm >= 4.66
- kagglehub >= 0.1
- Pillow >= 10.0
- requests >= 2.31

## نکات مهم
۱. دقت بالا در تشخیص (هدف >۹۹٪)  
۲. عملکرد سریع در شرایط واقعی  
۳. رابط کاربری ساده  
۴. مستندسازی کامل  
۵. تست جامع
۶. ذخیره‌سازی استاندارد داده‌ها
۷. فرمت یکسان مستندات
۸. آماده برای ادغام دیتاست‌ها