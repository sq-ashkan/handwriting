# پروژه تشخیص کاراکتر دست‌نویس (OCR)

## هدف اصلی
ساخت سیستمی که بتواند کاراکتر (حرف یا عدد) دست‌نویس که کاربر روی کاغذ می‌نویسد را آپلود و با دقت بالای ۹۹ درصد برای نمایش به سرمایه‌گذار در حالت دمو و تست کاربر واقعی تشخیص دهد.

## وضعیت فعلی دیتاست‌ها
دیتاست‌های IAM، EMNIST و MNIST با موفقیت دانلود و در ساختار یکسان ذخیره شده‌اند:
- هر سه دیتاست در پوشه‌های مجزا با ساختار مشابه
- فرمت مستندات کاملاً یکسان (documentation.txt) با ساختار IAM
- آماده برای ادغام و یکپارچه‌سازی
- فرمت مستندات:
  ```
  image_id ok graylevel components x y w h tag transcription
  ```

دیتاست‌های جدید در حال پردازش:
- A-Z Handwritten Alphabets: در حال دانلود
- Chars74K: در انتظار پردازش
- NIST Special Database 19: در انتظار پردازش
  - شامل ۸۱۰,۰۰۰ تصویر کاراکتر دست‌نویس
  - نمونه‌های دست‌نویس از ۳,۶۰۰ نویسنده مختلف
  - شامل اعداد، حروف بزرگ و کوچک انگلیسی
  - دارای برچسب‌گذاری دقیق و بررسی شده

## فازهای پروژه

### فاز ۱: جمع‌آوری و مدیریت داده
- دانلود دیتاست‌های:
  - IAM Handwriting: حروف و کلمات دست‌نویس ✓
  - EMNIST: اعداد و حروف انگلیسی ✓
  - MNIST: اعداد دست‌نویس ✓
  - A-Z Handwritten Alphabets: در حال دانلود
  - Chars74K: در انتظار پردازش
  - NIST Special Database 19: در انتظار پردازش
- ترکیب و یکدست سازی داده‌ها برای ساخت دیتاست جامع
- پیش‌پردازش و آماده‌سازی داده‌ها

### فاز ۲: مدل‌سازی و آموزش
- طراحی شبکه عصبی عمیق مناسب برای تشخیص کاراکتر
- پیاده‌سازی مکانیزم آموزش
- تنظیم هایپرپارامترها
- آموزش با دیتاست ترکیبی
- ذخیره مدل نهایی

### فاز ۳: تست و ارزیابی
- تست با داده‌های واقعی خارج از دیتاست
- ارزیابی دقت و عملکرد
- بهینه‌سازی و رفع خطاها
- مستندسازی نتایج

### فاز ۴: رابط کاربری
- پیاده‌سازی API با Flask
- ساخت رابط آپلود تصویر
- پردازش تصویر ورودی
- نمایش نتیجه تشخیص

## ساختار پروژه

```
handwriting/
├── src/                    # کدهای اصلی پروژه
│   ├── services/          # سرویس‌های اصلی
│   │   ├── downloader.py  # دانلود دیتاست‌ها
│   │   ├── preprocessor.py# پردازش تصاویر
│   │   └── trainer.py     # آموزش مدل
│   ├── models/           # معماری مدل
│   │   ├── layers.py    # لایه‌های شبکه
│   │   └── network.py   # پیکربندی شبکه
│   └── lib/             # کتابخانه‌های کمکی
│       ├── utils.py     # توابع عمومی
│       └── constants.py # متغیرهای ثابت
├── data/                 # دیتاست‌ها
│   ├── raw/             # داده‌های خام
│   │   ├── iam_handwriting/   # IAM دیتاست ✓
│   │   │   ├── images/        # تصاویر با فرمت یکسان
│   │   │   └── documentation.txt  # فرمت IAM
│   │   ├── emnist/            # EMNIST دیتاست ✓
│   │   │   ├── images/        # تصاویر همسان با IAM
│   │   │   └── documentation.txt  # فرمت مشابه IAM
│   │   ├── mnist/             # MNIST دیتاست ✓
│   │   │   ├── images/        # تصاویر همسان با IAM
│   │   │   └── documentation.txt  # فرمت مشابه IAM
│   │   ├── az_handwritten/    # در حال دانلود
│   │   ├── chars74k/          # در انتظار پردازش
│   │   └── nist_sd19/         # در انتظار پردازش
│   ├── processed/       # داده‌های پردازش شده
│   └── logs/           # گزارش‌ها
├── tests/              # تست‌ها
└── requirements.txt    # وابستگی‌ها
```

## تمرکز فعلی (فاز ۱)

### اصلاح دانلودر IAM ✓
- بهبود مکانیزم دانلود
- اصلاح مسیر ذخیره‌سازی
- افزودن نمایش پیشرفت دانلود
- بررسی صحت داده‌ها

### پیاده‌سازی دانلودر EMNIST و MNIST ✓
- دانلود از منابع معتبر
- ذخیره در ساختار استاندارد IAM
- اعتبارسنجی داده‌ها
- تبدیل فرمت تصاویر به استاندارد IAM

### وضعیت فایل‌های مستندات
- هر سه دیتاست IAM، EMNIST و MNIST دارای فایل documentation.txt با فرمت یکسان
- ساختار هر خط: `image_id ok graylevel components x y w h tag transcription`
- موقعیت و ابعاد تصاویر (x, y, w, h) استاندارد شده
- برچسب‌های (tags) یکسان برای هر سه دیتاست

### دانلود و پردازش دیتاست‌های جدید (در حال انجام)
- A-Z Handwritten Alphabets: در حال دانلود
- Chars74K: در انتظار پردازش
- NIST Special Database 19: در انتظار پردازش
  - دانلود فایل‌های اصلی
  - استخراج تصاویر کاراکترها
  - تبدیل به فرمت استاندارد IAM
  - یکپارچه‌سازی با سایر دیتاست‌ها

### ترکیب داده‌ها (مرحله بعد)
- یکسان‌سازی فرمت تصاویر انجام شده
- فایل‌های مستندات آماده ادغام
- ساختار پوشه‌بندی یکسان
- آماده برای پیش‌پردازش

## نیازمندی‌ها
- Python 3.10+
- PyTorch
- OpenCV
- Flask
- NumPy
- Pandas
- tqdm (برای نمایش پیشرفت)
- kagglehub (برای دانلود IAM)
- requests

## نکات مهم
۱. دقت بالا در تشخیص (هدف >۹۹٪)  
۲. عملکرد سریع در شرایط واقعی  
۳. رابط کاربری ساده  
۴. مستندسازی کامل  
۵. تست جامع
۶. ذخیره‌سازی استاندارد داده‌ها
۷. فرمت یکسان مستندات
۸. آماده برای ادغام دیتاست‌ها