name: handwriting-ocr
service:
  app:
    dockerfile: Dockerfile
    ports:
      - port: 8080
        http: /
    resources:
      cpu: 1000m
      memory: 2048Mi
    env:
      - name: ENVIRONMENT
        value: production
      - name: MODEL_PATH
        value: best_model.pth
    scaling:
      min_instances: 1
      max_instances: 1
    healthcheck:
      port: 8080
      path: /health
      initial_delay: 30s
      interval: 15s
      timeout: 5s
      failure_threshold: 3